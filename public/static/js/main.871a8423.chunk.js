(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{288:function(e,t,a){e.exports=a(383)},293:function(e,t,a){},294:function(e,t,a){},380:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),o=(a(293),a(294),a(17)),c=a(24),u=a(75),s=a(55),d=a(79),p=a(76),m=a(37),b=a(80),f=a(50),g="ADD_DETAIL",h="DELETE_PRODUCT",E="GET_PRODUCT",O="ADD_INLINE_PRODUCT",v="CLEAR_INLINE_PRODUCT",y="CHECK_INLINE_PRODUCT",S="SUBMIT_SUPPLIER_DATA",x="CLOSE_SNACKBAR",j="GET_SUPPLIER",C="FORM_SUBMITTED",P="SET_VALUE",I="https://projectsupplier.herokuapp.com",D=a(84),N=a.n(D);function k(e){return function(t){t({type:P,payload:e})}}function F(e){return function(t){N.a.get(I+"/product/"+e,{supplierId:e}).then(function(e){"SUCCESSFUL"===e.data.type&&t({type:E,payload:{product:e.data.response}})}).catch(function(e){})}}var A=a(54),B=a(88),w=a(250),T=a(244),_=a(211),R=a(236),U=a(116),V=a(241),M=a(233),z=a(384),L=a(73),K=a(78),G=a.n(K),Q=a(398),W=a(399),q=a(400),H=a(401),X=a(402),Z=a(195),J=a(268),Y=a.n(J),$=a(249),ee=a(247),te=a(83);function ae(e){return function(t){t({type:P,payload:e})}}function ne(){return function(e){N.a.get(I+"/supplier").then(function(t){"SUCCESSFUL"===t.data.type&&e({type:j,payload:{suppliers:t.data.response}})}).catch(function(e){})}}var re=a(239),le=a(158),ie=a(159),oe=a(228),ce=a(36),ue=a(231),se=([{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"}].map(function(e){return{value:e.label,label:e.label}}),Object(oe.a)(function(e){return{root:{flexGrow:1,width:150,height:"auto"},input:{display:"flex",padding:0,height:50,width:150},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:14,whiteSpace:"nowrap"},paper:{position:"absolute",zIndex:99999,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}}));function de(e){var t=e.inputRef,a=Object(le.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var pe={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,l=e.selectProps,i=l.classes,o=l.TextFieldProps;return console.log(e),r.a.createElement(w.a,Object.assign({error:e.selectProps.error,InputProps:{inputComponent:de,inputProps:Object(c.a)({className:i.input,ref:n,children:t},a)}},o))},Menu:function(e){return r.a.createElement(U.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return r.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(T.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(L.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}};function me(e){var t=se(),a=Object(ce.a)();var n={input:function(e){return Object(c.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:t.root},r.a.createElement(ue.a,null,r.a.createElement(ie.a,{classes:t,styles:n,inputId:"react-select-single",error:e.error,onBlur:function(t){var a=t.target.value;console.log(e.name,e.suggestion);var n=e.suggestion[e.name].map(function(e){return e.label}),r=!1;n.forEach(function(e){-1!==e.indexOf(a)&&(r=!0)}),r||e.updateSelectValue({name:e.name,value:null})},isClearable:!0,placeholder:"Search a country",name:e.name,options:e.suggestion[e.name],components:pe,value:e.selectValue,onChange:function(t){e.updateSelectValue({name:e.name,value:t})}}),r.a.createElement("div",{className:t.divider})))}var be=a(251),fe=a(240),ge=a(265),he=(a(380),Object(z.a)({paper:{padding:10}})(R.a),Object(z.a)({root:{color:"#bdbdbd"}})(L.a)),Ee=Object(z.a)({root:{width:100}})(w.a),Oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={editClicked:!1,productId:"",product:{productName:"",itemQty:"",uom:"KG",packSize:"",packUom:"KG",unitPrice:"",totalPrice:"",dateField:"",comment:"",harmfulProd:!1},dateError:{dateField:!1},addProduct:{productName:"",itemQty:"",uom:"KG",packSize:"",packUom:"KG",unitPrice:"",totalPrice:""},addProductRequiredFields:[],requiredFields:[],showError:!1},a.handleChange=function(e,t){var n=t.target,r=e?"addProduct":"product";if("harmfulProd"!==n.name)if(a.state.productId,r="product","itemQty"===n.name||"unitPrice"===n.name||"packSize"===n.name){var l,i="itemQty"===n.name?"unitPrice":"itemQty",u=n.value.toString(),s=u.split(".");console.log(u),2===s.length?(s[1].length>2&&(s[1]=s[1].slice(0,2)),s=s.join(".")):1===s.length&&(s=s.join(""));var d=Number(s)||"";a.setState(Object(o.a)({},r,Object(c.a)({},a.state[r],(l={},Object(o.a)(l,n.name,d),Object(o.a)(l,"totalPrice",(n.value*a.state[r][i]).toFixed(2)),l))))}else a.setState(Object(o.a)({},r,Object(c.a)({},a.state[r],Object(o.a)({},t.target.name,t.target.value))));else a.setState(Object(o.a)({},r,Object(c.a)({},a.state[r],Object(o.a)({},n.name,n.checked))))},a.popupHide=function(e){var t=a.props,n=t.setProductValue,r=t.clearInlineProduct;n({editClicked:!1}),e&&r(),a.setState(Object(o.a)({},"product",{productName:"",itemQty:"",uom:"KG",packSize:"",packUom:"KG",unitPrice:"",totalPrice:"",dateField:"",comment:"",harmfulProd:!1}))},a.clearForm=function(e){a.setState(Object(o.a)({},e,{productName:"",itemQty:"",uom:"KG",packSize:"",packUom:"KG",unitPrice:"",totalPrice:"",dateField:"",comment:"",harmfulProd:!1}))},a.handleSelectValue=function(e){console.log(e),a.setState({product:Object(c.a)({},a.state.product,Object(o.a)({},e.name,e.value&&e.value.value))})},a.handleDateChange=function(e,t){var n=a.state;a.setState({product:Object(c.a)({},n.product,Object(o.a)({},t,e))}),e&&-1===e.toString().indexOf("Invalid")?a.setState({dateError:Object(c.a)({},n.dateError,Object(o.a)({},t,!1))}):a.setState({dateError:Object(c.a)({},n.dateError,Object(o.a)({},t,!0))})},a.saveData=function(e,t){t.preventDefault();var n,r=a.state.product,l=a.props,i=l.addData,u=l.supplierId,s=["productName","itemQty","uom","packSize","packUom","unitPrice","totalPrice","dateField","comment"];(s=s.filter(function(e){return"unitPrice"===e||"packSize"===e||"totalPrice"===e?!Number(r[e])||(Number(r[e])<=0||""===r[e].toString().trim()):!r[e]})).length?(a.setState((n={},Object(o.a)(n,"product",Object(c.a)({},a.state.product)),Object(o.a)(n,"requiredFields",s),n)),setTimeout(function(){var e;a.setState((e={},Object(o.a)(e,"product",Object(c.a)({},a.state.product)),Object(o.a)(e,"requiredFields",[]),e))},500)):(console.log(r),i({data:Object(c.a)({},r,{supplierId:u})},"ADD_INLINE_PRODUCT"!==a.state.productId),a.clearForm("product"))},a.renderRow=function(e){var t=e.data;if(!0===a.props.editClicked&&t._id===a.state.productId){var n=a.state.product,l=n.productName,i=n.itemQty,o=n.uom,c=n.packSize,u=n.packUom,s=n.unitPrice,d=(n.totalPrice,n.dateField),p=n.comment,b=n.harmfulProd,f=a.state.requiredFields;return r.a.createElement($.a,{style:{borderBottom:"1px solid rgba(224, 224, 224, 1)"}},r.a.createElement(ee.a,null,e.index+1),r.a.createElement(ee.a,null,r.a.createElement(Ee,{margin:"dense",value:l,name:"productName",onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("productName")})),r.a.createElement(ee.a,null,r.a.createElement(Ee,{margin:"dense",value:i,name:"itemQty",type:"number",onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("itemQty")})),r.a.createElement(ee.a,null,r.a.createElement(me,{name:"uom",updateSelectValue:a.handleSelectValue,selectValue:{label:o,value:o},suggestion:a.props.unitSuggestion,error:-1!==f.indexOf("uom")})),r.a.createElement(ee.a,null,r.a.createElement(Ee,{margin:"dense",value:c,name:"packSize",type:"number",onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("packSize")})),r.a.createElement(ee.a,null,r.a.createElement(_.a,{name:"packUom",value:u,onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("packUom")},r.a.createElement(T.a,{value:"KG"},"Kg"),r.a.createElement(T.a,{value:"LTR"},"Ltr"),r.a.createElement(T.a,{value:"LBS"},"lbs"))),r.a.createElement(ee.a,null,r.a.createElement(Ee,{margin:"dense",value:s,name:"unitPrice",type:"number",onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("unitPrice")})),r.a.createElement(ee.a,null,r.a.createElement(Ee,{margin:"dense",value:Number(i*s).toFixed(2),name:"totalPrice",type:"number",disabled:!0,onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("totalPrice")})),r.a.createElement(ee.a,null,r.a.createElement(A.MuiPickersUtilsProvider,{utils:B.default},r.a.createElement(A.KeyboardDatePicker,{autoOk:!0,variant:"dialog",format:"dd/MM/yyyy",className:a.props.classes.dateInput,shouldDisableDate:function(e){return 6===e.getDay()},value:d||null,error:-1!==a.state.requiredFields.indexOf("dateField")||a.state.dateError.dateField,placeholder:"select date",onChange:function(e){return a.handleDateChange(e,"dateField")}}))),r.a.createElement(ee.a,null,r.a.createElement(Ee,{id:"outlined-multiline-flexible",multiline:!0,rowsMax:"4",placeholder:"comment..",name:"comment",value:p,onChange:a.handleChange.bind(Object(m.a)(a),!1),error:-1!==f.indexOf("comment")})),r.a.createElement(ee.a,null,r.a.createElement(fe.a,{control:r.a.createElement(ge.a,{checked:b,onChange:a.handleChange.bind(Object(m.a)(a),!1),name:"harmfulProd"}),label:b?"Harmful":"not harmful"})),r.a.createElement(ee.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(be.a,{title:"Submit"},r.a.createElement(Z.a,{onClick:a.saveData.bind(Object(m.a)(a),"ADD_INLINE_PRODUCT"===t._id)},r.a.createElement(Q.a,null))),r.a.createElement(be.a,{title:"cancel"},r.a.createElement(Z.a,{onClick:a.popupHide.bind(Object(m.a)(a),"ADD_INLINE_PRODUCT"===t._id)},r.a.createElement(W.a,null)))))}return console.log(t),r.a.createElement($.a,null,r.a.createElement(ee.a,null,e.index+1),r.a.createElement(ee.a,null,t.productName),r.a.createElement(ee.a,null,Number(t.itemQty).toFixed(2)),r.a.createElement(ee.a,null,t.uom),r.a.createElement(ee.a,null,Number(t.packSize).toFixed(2)),r.a.createElement(ee.a,null,t.packUom),r.a.createElement(ee.a,null,Number(t.unitPrice).toFixed(2)),r.a.createElement(ee.a,null,Number(t.totalPrice).toFixed(2)),r.a.createElement(ee.a,null,t.dateField&&a.parseDate(t.dateField)||"-"),r.a.createElement(ee.a,null,t.comment||"-"),r.a.createElement(ee.a,null,t.harmfulProd.toString()),r.a.createElement(ee.a,{style:{display:"flex",flexDirection:"row"}},r.a.createElement(be.a,{title:"Edit"},r.a.createElement(Z.a,{"data-productid":t._id,onClick:function(e){var n=e.currentTarget.getAttribute("data-productid");a.props.checkInlineProduct(),a.props.setProductValue({editClicked:!0}),a.setState({productId:n,product:t})}},r.a.createElement(q.a,null))),r.a.createElement(be.a,{title:"Delete"},r.a.createElement(Z.a,{"data-productid":t._id,onClick:function(e){var t=a.props,n=t.supplierId;(0,t.deleteProduct)({supplierId:n,productId:e.currentTarget.getAttribute("data-productid")})}},r.a.createElement(H.a,null)))))},a.parseDate=function(e){function t(e){return 1===e.length?"0"+e:e}var a=new Date(e);return"string"===typeof a&&-1!==a.indexOf("invalid")?"-":t(a.getDate().toString())+"/"+t(a.getMonth().toString())+"/"+a.getFullYear()},a.renderSupplier=function(){var e=a.props.classes.gridMargin,t=a.props,n=t.supplierId,l=t.suppliers,i=l.map(function(e){return e.transactionId}).indexOf(n);if(l.length&&-1!==i){var o=l[i],c=o.transactionId,u=o.transactionDate,s=o.importCountry,d=o.billOfEntry,p=o.billOfEntryDate,m=o.countryOfOrigin,b=o.supplierInvoice,f=o.poReference;return r.a.createElement(U.a,{style:{marginTop:10}},r.a.createElement(V.a,{container:!0,xs:12},r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Transaction id #"),r.a.createElement(he,{variant:"body2"},c||"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Transaction date"),r.a.createElement(he,{variant:"body2"},u&&a.parseDate(u)||"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Importing countries"),r.a.createElement(he,{variant:"body2"},s?s.value:"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Country of origin"),r.a.createElement(he,{variant:"body2"},m?m.value:"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Supplier invoice"),r.a.createElement(he,{variant:"bo2y1"},b||"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Bill of entry date"),r.a.createElement(he,{variant:"body2"},p&&a.parseDate(p)||"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Po reference"),r.a.createElement(he,{variant:"body2"},f||"-"),r.a.createElement(re.a,{light:!0})),r.a.createElement(V.a,{item:!0,xs:12,md:4,className:e},r.a.createElement(L.a,{variant:"subtitle1"},"Bill of entry"),r.a.createElement(he,{variant:"body2"},d||"-"),r.a.createElement(re.a,{light:!0}))))}},a.componentDidMount=function(){var e=a.props,t=e.location,n=e.getProduct;(0,e.setValue)({currentSupplier:t.state.currentSupplier}),n(t.state.currentSupplier)},a}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(V.a,{container:!0,xs:12,md:10,style:{margin:"auto",textAlign:"center"}},r.a.createElement(V.a,{item:!0,xs:12},this.renderSupplier()),r.a.createElement(V.a,{item:!0,xs:12,style:{marginTop:"10px"}},r.a.createElement(Y.a,{columns:[{title:"S.NO",field:"sno",sorting:!1,filtering:!1},{title:"Item",field:"productName",sorting:!1,filtering:!1},{title:"Quantity",field:"itemQty",sorting:!1,type:"numeric"},{title:"UOM",field:"uom",sorting:!1,filtering:!1},{title:"Pack Size",field:"packSize",sorting:!1,filtering:!1},{title:"Pack UOM",field:"packUom",sorting:!1,filtering:!1},{title:"Unit price",field:"unitPrice",sorting:!1,filtering:!1},{title:"Total Price",field:"totalPrice",sorting:!1,filtering:!0,type:"numeric",filterPlaceholder:"search"},{title:"Date",field:"dateField",sorting:!1,filtering:!0,type:"date",filterPlaceholder:"by date"},{title:"Comment",field:"comment",sorting:!1,filtering:!0,type:"string"},{title:"is harmful?",field:"harmfulProd",sorting:!1,filtering:!0,type:"boolean"}],icons:{Filter:X.a},data:this.props.product,options:{filtering:!0,search:!1,paging:!1,actionsColumnIndex:-1,headerStyle:{whiteSpace:"nowrap"}},components:{Row:this.renderRow,Toolbar:function(){return r.a.createElement(V.a,{container:!0,xs:12},r.a.createElement(V.a,{xs:6},r.a.createElement(L.a,{variant:"h5",style:{textAlign:"left",margin:10}},"Supplier product")),r.a.createElement(V.a,{xs:6},r.a.createElement(M.a,{variant:"contained",color:"primary",style:{float:"right",margin:10},onClick:function(){e.setState({product:Object.assign({},e.state.product),productId:"ADD_INLINE_PRODUCT"}),e.props.addInlineProduct(),e.props.setProductValue({editClicked:!0})}},"Add new")))}}})))}}]),t}(n.Component),ve={addData:function(e,t){return function(a,n){var r=I+"/product";r+=t?"/"+e.data._id:"/"+e.data.supplierId,console.log(e.data,r),N.a[t?"put":"post"](r,{product:e.data}).then(function(e){console.log(e),"SUCCESSFUL"===e.data.type&&(F(n().supplier.currentSupplier)(a),k({editClicked:!1})(a))})}},getProduct:F,setValue:ae,setProductValue:k,deleteProduct:function(e){return function(t,a){console.log(e),N.a.delete(I+"/product/"+e.productId).then(function(e){console.log(e),"SUCCESSFUL"===e.data.type&&F(a().supplier.currentSupplier)(t)})}},addInlineProduct:function(){return function(e){return e({type:O})}},clearInlineProduct:function(){return function(e){return e({type:v})}},checkInlineProduct:function(){return function(e){return e({type:y})}}},ye=Object(te.e)(Object(f.b)(function(e){return{showPopupState:e.product.showPopup,beingEdited:e.product.beingEdited,productId:e.product.productId,product:e.product.product,suppliers:e.supplier.suppliers,supplierId:e.supplier.currentSupplier,editClicked:e.product.editClicked,unitSuggestion:e.product.unitSuggestion}},ve)(Object(z.a)(function(e){return{container:{height:"100vh",width:"100%",backgroundColor:G.a[300],textAlign:"center",padding:0},btn:{marginRight:10},gridMargin:{marginTop:10},dateInput:{width:150}}})(Oe))),Se=Object(oe.a)(function(e){return{root:{flexGrow:1,zIndex:99999},input:{display:"flex",padding:0,height:"60px",zIndex:0,width:"269px"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden",zIndex:99999},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16,position:"relative",left:"10px"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0,width:"269px"},divider:{height:e.spacing(2)},menu:{width:"100%",zIndex:99999999}}});function xe(e){var t=e.inputRef,a=Object(le.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var je={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,l=e.selectProps,i=l.classes,o=l.TextFieldProps;return r.a.createElement(w.a,Object.assign({variant:"outlined",InputProps:{inputComponent:xe,inputProps:Object(c.a)({className:i.input,ref:n,children:t},a)}},o))},Menu:function(e){return r.a.createElement(U.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return r.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(T.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",className:e.selectProps.classes.menu,style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(L.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)},DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}};var Ce=function(e){var t,a=Se(),n=Object(ce.a)(),l={input:function(e){return{color:n.palette.text.primary,"& input":{font:"inherit"}}}};return r.a.createElement("div",{className:a.root},r.a.createElement(ue.a,null,r.a.createElement(ie.a,(t={classes:a,styles:l,inputId:"react-select-single",placeholder:"search country.."},Object(o.a)(t,"styles",{placeholder:function(e){return{fontSize:"16px",color:"#adadad",paddingLeft:10}}}),Object(o.a)(t,"onBlur",function(t){var a=t.target.value;console.log(e.name,e.suggestion);var n=e.suggestion[e.name].map(function(e){return e.label}),r=!1;n.forEach(function(e){-1!==e.indexOf(a)&&(r=!0)}),r||e.updateSelectValue({name:e.name,value:null})}),Object(o.a)(t,"isClearable",!0),Object(o.a)(t,"name",e.name),Object(o.a)(t,"options",e.suggestion[e.name]),Object(o.a)(t,"components",je),Object(o.a)(t,"value",e.selectValue),Object(o.a)(t,"onChange",function(t){e.updateSelectValue({name:e.name,value:t})}),t))))},Pe=(a(382),a(208)),Ie=a(245),De=a(278),Ne=a.n(De),ke=a(284),Fe=a(277),Ae=a.n(Fe),Be=a(2),we=Object(ke.a)({success:{backgroundColor:"#43a047"},error:{backgroundColor:Ae.a[500]}});function Te(e){var t=we(e),a=e.className,n=e.variant;return r.a.createElement(Ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.formSubmitSuccess},r.a.createElement(Pe.a,{message:"Supplier successfuly added",className:Object(Be.a)(t[n],a),action:[r.a.createElement(Z.a,{key:"close","aria-label":"Close",color:"inherit",onClick:function(){e.closeSnackBar(!1)}},r.a.createElement(Ne.a,null))]}))}var _e=a(66),Re=Object(z.a)({root:{marginBottom:10}})(V.a),Ue=Object(z.a)({root:{margin:0,marginBottom:10},label:{textTransform:"capitalize"}})(L.a),Ve=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={supplierField:{importCountry:null,countryOfOrigin:null,transactionId:null,transactionDate:null,billOfEntry:"",billOfEntryDate:null,supplierInvoice:"",poReference:""},dateError:{transactionDate:!1,billOfEntryDate:!1},errorFields:[],formSubmitSuccess:!1},a.handleSelectValue=function(e){a.setState({supplierField:Object(c.a)({},a.state.supplierField,Object(o.a)({},e.name,e.value))})},a.handleTextField=function(e){a.setState({supplierField:Object(c.a)({},a.state.supplierField,Object(o.a)({},e.target.name,e.target.value))})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.supplierField,n=["poReference","transactionDate","billOfEntryDate"];n=n.filter(function(e){if("transactionDate"===e||"billOfEntryDate"===e){var a=t[e]&&new Date(t[e]);if(!a)return!0;if(-1!==[6].indexOf(a.getDay()))return!0;if(-1!==a.toString().indexOf("Invalid")||!t[e])return!0}else{if(!t[e])return!0;if(!t[e].toString().trim())return!0}}),a.setState({errorFields:n}),setTimeout(function(){a.setState({errorFields:[]})},500);var r=a.state.dateError;n.length||r.transactionDate||r.billOfEntryDate||a.props.submitSupplierData(t,a.props.editMode)},a.handleDateChange=function(e,t){var n=a.state;a.setState({supplierField:Object(c.a)({},a.state.supplierField,Object(o.a)({},t,e))}),e&&-1===e.toString().indexOf("Invalid")?a.setState({dateError:Object(c.a)({},n.dateError,Object(o.a)({},t,!1))}):a.setState({dateError:Object(c.a)({},n.dateError,Object(o.a)({},t,!0))})},a.componentDidMount=function(){var e,t=a.props,n=t.editMode,r=t.supplierToBeEdited,l=t.suppliers;n&&(e=l.map(function(e){return e.transactionId}).indexOf(r),a.setState({supplierField:Object.assign({},a.state.supplierField,l[e])}))},a.componentWillUnmount=function(){a.props.setValue({editMode:!1,supplierToBeEdited:""})},a.changeRoute=function(){var e=a.props,t=e.reRoute,n=e.history,r=e.setValue;t&&setTimeout(function(){n.push("/supplierlist"),r({formSubmitSuccess:!1,reRoute:!1})},2e3)},a}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.supplierField,a=t.transactionId,n=t.transactionDate,l=t.billOfEntryDate,i=t.billOfEntry,o=t.supplierInvoice,c=t.poReference,u=this.props.classes;return r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:u.form},this.changeRoute(),r.a.createElement(U.a,{className:u.root},r.a.createElement(V.a,{container:!0},r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Transaction id #"),r.a.createElement("span",null,a)),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Transaction date:"),r.a.createElement(A.MuiPickersUtilsProvider,{utils:B.default},r.a.createElement(A.KeyboardDatePicker,{autoOk:!0,className:Object(Be.a)(u.textField,u.lowZIndex),variant:"dialog",inputVariant:"outlined",format:"dd/MM/yyyy",shouldDisableDate:function(e){return 6===e.getDay()},value:n,error:-1!==this.state.errorFields.indexOf("transactionDate")||this.state.dateError.transactionDate,placeholder:"select date",onChange:function(t){return e.handleDateChange(t,"transactionDate")}}))),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Importing countries"),r.a.createElement(Ce,{name:"importCountry",updateSelectValue:this.handleSelectValue,selectValue:this.state.supplierField.importCountry,suggestion:this.props.suggestion})),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Country of origin"),r.a.createElement(Ce,{name:"countryOfOrigin",updateSelectValue:this.handleSelectValue,selectValue:this.state.supplierField.countryOfOrigin,suggestion:this.props.suggestion})),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Supplier invoice"),r.a.createElement(w.a,{id:"outlined-name",className:u.textField,type:"number",name:"supplierInvoice",value:o,onChange:this.handleTextField,margin:"normal",variant:"outlined",placeholder:"Supplier invoice"})),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Bill of entry date"),r.a.createElement(A.MuiPickersUtilsProvider,{utils:B.default},r.a.createElement(A.KeyboardDatePicker,{autoOk:!0,variant:"dialog",inputVariant:"outlined",format:"dd/MM/yyyy",value:l,error:-1!==this.state.errorFields.indexOf("billOfEntryDate")||this.state.dateError.billOfEntryDate,placeholder:"select date",className:Object(Be.a)(u.textField,u.lowZIndex),onChange:function(t){return e.handleDateChange(t,"billOfEntryDate")},shouldDisableDate:function(e){return 6===e.getDay()}}))),r.a.createElement(Re,{item:!0,xs:12,md:6,direction:"coloumn"},r.a.createElement(Ue,{variant:"body1"},"po reference"),r.a.createElement(w.a,{error:-1!==this.state.errorFields.indexOf("poReference"),name:"poReference",className:u.textField,value:c,type:"text",onChange:this.handleTextField,margin:"normal",variant:"outlined",placeholder:"PO reference text"})),r.a.createElement(Re,{item:!0,xs:12,md:6},r.a.createElement(Ue,{variant:"body1"},"Bill of entry"),r.a.createElement(w.a,{name:"billOfEntry",type:"text",value:i,className:u.textField,onChange:this.handleTextField,margin:"normal",variant:"outlined",placeholder:"bill of entry text"})),r.a.createElement(Re,{container:!0,xs:12},r.a.createElement(M.a,{variant:"contained",color:"primary",className:u.buttons,type:"submit"},this.props.editMode?"Submit Edit":"Submit"),r.a.createElement(M.a,{variant:"contained",className:u.buttons,component:_e.b,to:"/"},this.props.editMode?"Cancel Edit":"Cancel"))),r.a.createElement(Te,{formSubmitSuccess:this.props.formSubmitSuccess,closeSnackBar:this.props.closeSnackBar,variant:"success"})))}}]),t}(r.a.Component),Me={submitSupplierData:function(e,t){return function(a){console.log(e);var n=I+"/supplier";n+=t?"/"+e.transactionId:"",N.a[t?"put":"post"](n,{supplier:e}).then(function(e){console.log(e),"SUCCESSFUL"===e.data.type&&a({type:C,payload:{formSubmitSuccess:!0,reRoute:!0}})})}},closeSnackBar:function(e,t){return function(t){t({type:x,payload:{formSubmitSuccess:e}})}},setValue:ae},ze=Object(te.e)(Object(f.b)(function(e){return{formSubmitSuccess:e.supplier.formSubmitSuccess,reRoute:e.supplier.reRoute,editMode:e.supplier.editMode,supplierToBeEdited:e.supplier.supplierToBeEdited,suppliers:e.supplier.suppliers,suggestion:e.supplier.suggestion}},Me)(Object(z.a)(function(e){return{outerContainer:{backgroundColor:G.a[300],width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},item:{marginTop:10},form:{width:"80%",margin:"auto"},elemZIndex:{zIndex:1},root:{width:"100%",margin:"10px auto",boxSizing:"border-box",padding:"20px",display:"flex",flexWrap:"wrap"},buttons:{margin:"10px 10px 0px 0px"},outline:{border:"1px solid red"},formControl:{margin:"10px",minWidth:120},textField:{margin:0,width:"269px"},lowZIndex:{zIndex:0}}})(Ve))),Le=a(235),Ke=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Le.a,{className:e.container,maxWidth:"xl"},r.a.createElement(Le.a,{className:e.textContainer},r.a.createElement(L.a,{variant:"h2",className:e.typography},"Welcome to our app"),r.a.createElement(M.a,{component:_e.b,to:"/addsupplier",variant:"contained",className:e.primaryBtn},"Add Supplier"),r.a.createElement(M.a,{component:_e.b,to:"/supplierlist",variant:"contained",color:"primary"},"view Suppliers")))}}]),t}(n.Component),Ge=Object(z.a)(function(e){return{container:{height:"100vh",width:"100%",backgroundColor:G.a[300],textAlign:"center"},textContainer:{position:"relative",top:"30%",height:"auto"},typography:{color:"#fff"},primaryBtn:{backgroundColor:"#fff",margin:"10px"}}})(Ke),Qe=a(203),We=a(204),qe=a(243),He=a(281),Xe=a.n(He),Ze=a(280),Je=a.n(Ze),Ye=a(279),$e=a.n(Ye),et=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.props.getListOfSupplier()},a.handleEditClick=function(e){var t=e.currentTarget.getAttribute("data-transactionid"),n=a.props,r=n.history;(0,n.setValue)({editMode:!0,supplierToBeEdited:t}),r.push("/editsupplier")},a.loopSupplier=function(){var e=a.props.suppliers,t="";return e.length?e.map(function(n,l){return t="",l+1!==e.length&&(t=r.a.createElement(re.a,{light:!0})),r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{key:n.transactionId},r.a.createElement(qe.a,{primary:n.transactionId}),r.a.createElement(be.a,{title:"View supplier and product details"},r.a.createElement(Z.a,{component:_e.b,to:{pathname:"/supplier",state:{currentSupplier:n.transactionId}},"data-transactionid":n.transactionId},r.a.createElement($e.a,null))),r.a.createElement(be.a,{title:"Edit supplier"},r.a.createElement(Z.a,{"data-transactionid":n.transactionId,onClick:a.handleEditClick},r.a.createElement(Je.a,null))),r.a.createElement(be.a,{title:"Delete supplier"},r.a.createElement(Z.a,{"data-transactionid":n.transactionId,"aria-label":"delete",onClick:a.props.deleteSupplier.bind(Object(m.a)(a),n.transactionId)},r.a.createElement(Xe.a,null)))),t)}):r.a.createElement(qe.a,null,r.a.createElement(L.a,{variant:"h6",style:{textAlign:"center"}},"No suppliers available"))},a}return Object(b.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.props.classes;return r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:8,md:6,style:{margin:"10px auto"}},r.a.createElement(U.a,null,r.a.createElement(Qe.a,{component:"nav","aria-label":"Mailbox folders"},r.a.createElement(qe.a,null,r.a.createElement(L.a,{variant:"h6",style:{textAlign:"center"}},"SUPPLIERS TRANSACTION IDS")),r.a.createElement(re.a,{light:!0}),this.loopSupplier()))))}}]),t}(n.Component),tt={getListOfSupplier:ne,setValue:ae,deleteSupplier:function(e){return function(t){N.a.delete(I+"/supplier/"+e,{supplierId:e}).then(function(e){"SUCCESSFUL"===e.data.type?(console.log(e),ne()(t)):console.log(e)}).catch(function(e){})}}},at=Object(te.e)(Object(f.b)(function(e){return{suppliers:e.supplier.suppliers}},tt)(Object(z.a)(function(e){return{container:{height:"100vh",width:"100%",backgroundColor:G.a[300],textAlign:"center",padding:0}}})(et)));var nt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,null,r.a.createElement(te.a,{exact:!0,path:"/",component:Ge}),r.a.createElement(te.a,{exact:!0,path:"/addsupplier",component:ze}),r.a.createElement(te.a,{exact:!0,path:"/editsupplier",component:ze}),r.a.createElement(te.a,{exact:!0,path:"/supplier",component:ye}),r.a.createElement(te.a,{exact:!0,path:"/supplierlist",component:at})))},rt=a(51),lt=a(282),it=a(82),ot=[{label:"KG"},{label:"LBS"},{label:"LTR"},{label:"GM"}].map(function(e){return{value:e.label,label:e.label}});var ct=[{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"}].map(function(e){return{value:e.label,label:e.label}});var ut=Object(rt.c)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[],unitSuggestion:{uom:ot}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a=e.product;return!0===e.beingEdited?a[e.productId]=t.payload.product:a.push(t.payload.product),Object.assign({},e,{product:a},{beingEdited:!1});case P:return Object.assign({},e,t.payload);case h:var n=e.product,r=t.payload.productId;return n=n.filter(function(e,t){return t!==+r}),Object.assign({},e,{product:n});case E:return Object.assign({},e,t.payload);case O:return e.product[e.product.length-1]&&"ADD_INLINE_PRODUCT"===e.product[e.product.length-1]._id?e:Object.assign({},e,{product:[].concat(Object(it.a)(e.product),[{productName:"",itemQty:"",uom:"KG",packSize:"",packUom:"KG",unitPrice:"",totalPrice:"",dateField:"",comment:"",harmfulProd:!1,_id:"ADD_INLINE_PRODUCT"}])});case v:return Object.assign({},e,{product:Object(it.a)(e.product).splice(0,e.product.length-1)});case y:if(e.product[e.product.length-1]&&"ADD_INLINE_PRODUCT"===e.product[e.product.length-1]._id)return Object.assign({},e,{product:Object(it.a)(e.product).splice(0,e.product.length-1)});default:return e}},supplier:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectValue:{importCountry:null},suggestion:{importCountry:ct,countryOfOrigin:ct},suppliers:[],formSubmitSuccess:!1,reRoute:!1,editMode:!1,supplierToBeEdited:"",currentSupplier:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object.assign({},e,{suppliers:[].concat(Object(it.a)(e.suppliers),[t.payload.supplier])},{formSubmitSuccess:!0});case x:case C:case P:return Object.assign({},e,t.payload);case j:var a=t.payload.suppliers;return a=a.map(function(e){var t=e;return t.importCountry&&(t.importCountry={label:t.importCountry,value:t.importCountry}),t.countryOfOrigin&&(t.countryOfOrigin={label:t.countryOfOrigin,value:t.countryOfOrigin}),t.transactionId=t._id,delete t._id,delete t.__v,t}),Object.assign({},e,{suppliers:a});default:return e}}}),st=Object(rt.e)(ut,{},Object(rt.d)(Object(rt.a)(lt.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(r.a.createElement(f.a,{store:st},r.a.createElement(nt,null)),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.871a8423.chunk.js.map